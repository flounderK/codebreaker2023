
unset env LINES
unset env COLUMNS
set height 0
set width 0

set $PTR_SIZE = 8
set $UINT_SIZE = 4

set $BINBASE = 0xffffffc010000000

# everything from here is autogenerated by python
set $BP_printk = $BINBASE+0xac9354
b *$BP_printk
set $BP_printk_bpnum = $bpnum
commands
silent
printf "%s", $x0
cont
end

disable break $BP_printk_bpnum


set $PRINTLOC = 0x0

set $BP_record_print_text = $BINBASE + 0x0e5a38
b *$BP_record_print_text
set $BP_record_print_text_bpnum = $bpnum
commands
silent
set $PRINTLOC = $x0
cont
end

set $BP_record_print_text_ret = $BINBASE + 0xe5b90
b *$BP_record_print_text_ret
set $BP_record_print_text_ret_bpnum = $bpnum
commands
silent
printf "%s", *(char**)($PRINTLOC+8)
cont
end

set $BP_dev_err = $BINBASE + 0x0acdd04
b *$BP_dev_err
commands
silent
printf "DEBUG: dev_err\n"
cont
end

# set $BP_system_heap_create = $BINBASE + 0x765ef8
# b *$BP_system_heap_create
# commands
# silent
# printf "system_heap_create\n"
# cont
# end


target remote :1234
cont
